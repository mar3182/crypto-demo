var z=Object.defineProperty;var _=i=>{throw TypeError(i)};var $=(i,e,t)=>e in i?z(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var C=(i,e,t)=>$(i,typeof e!="symbol"?e+"":e,t),R=(i,e,t)=>e.has(i)||_("Cannot "+t);var a=(i,e,t)=>(R(i,e,"read from private field"),t?t.call(i):e.get(i)),M=(i,e,t)=>e.has(i)?_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),F=(i,e,t,n)=>(R(i,e,"write to private field"),n?n.call(i,t):e.set(i,t),t),p=(i,e,t)=>(R(i,e,"access private method"),t);import{a as D,d as J,b as v,c as h,g as V,e as W,t as Z,f as H,h as U,m as L,J as K,C as j}from"./index-CmMGJkQQ.js";import"./ui-BIBbH-9B.js";import"./vendor-DZXjDYsQ.js";const G=BigInt(-1),m=BigInt(0),I=BigInt(1),Q=BigInt(5),b={};let x="0000";for(;x.length<80;)x+=x;function g(i){let e=x;for(;e.length<i;)e+=e;return BigInt("1"+e.substring(0,i))}function N(i,e,t){const n=BigInt(e.width);if(e.signed){const r=I<<n-I;h(t==null||i>=-r&&i<r,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:i}),i>m?i=U(L(i,n),n):i=-U(L(-i,n),n)}else{const r=I<<n;h(t==null||i>=0&&i<r,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:i}),i=(i%r+r)%r&r-I}return i}function S(i){typeof i=="number"&&(i=`fixed128x${i}`);let e=!0,t=128,n=18;if(typeof i=="string"){if(i!=="fixed")if(i==="ufixed")e=!1;else{const u=i.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);v(u,"invalid fixed format","format",i),e=u[1]!=="u",t=parseInt(u[2]),n=parseInt(u[3])}}else if(i){const u=i,d=(y,k,q)=>u[y]==null?q:(v(typeof u[y]===k,"invalid fixed format ("+y+" not "+k+")","format."+y,u[y]),u[y]);e=d("signed","boolean",e),t=d("width","number",t),n=d("decimals","number",n)}v(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),v(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const r=(e?"":"u")+"fixed"+String(t)+"x"+String(n);return{signed:e,width:t,decimals:n,name:r}}function X(i,e){let t="";i<m&&(t="-",i*=G);let n=i.toString();if(e===0)return t+n;for(;n.length<=e;)n=x+n;const r=n.length-e;for(n=n.substring(0,r)+"."+n.substring(r);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return t+n}var c,o,l,s,w,f,E,B,O,P;const T=class T{constructor(e,t,n){M(this,s);C(this,"format");M(this,c);M(this,o);M(this,l);C(this,"_value");D(e,b,"FixedNumber"),F(this,o,t),F(this,c,n);const r=X(t,n.decimals);J(this,{format:n.name,_value:r}),F(this,l,g(n.decimals))}get signed(){return a(this,c).signed}get width(){return a(this,c).width}get decimals(){return a(this,c).decimals}get value(){return a(this,o)}addUnsafe(e){return p(this,s,E).call(this,e)}add(e){return p(this,s,E).call(this,e,"add")}subUnsafe(e){return p(this,s,B).call(this,e)}sub(e){return p(this,s,B).call(this,e,"sub")}mulUnsafe(e){return p(this,s,O).call(this,e)}mul(e){return p(this,s,O).call(this,e,"mul")}mulSignal(e){p(this,s,w).call(this,e);const t=a(this,o)*a(e,o);return h(t%a(this,l)===m,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),p(this,s,f).call(this,t/a(this,l),"mulSignal")}divUnsafe(e){return p(this,s,P).call(this,e)}div(e){return p(this,s,P).call(this,e,"div")}divSignal(e){h(a(e,o)!==m,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),p(this,s,w).call(this,e);const t=a(this,o)*a(this,l);return h(t%a(e,o)===m,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),p(this,s,f).call(this,t/a(e,o),"divSignal")}cmp(e){let t=this.value,n=e.value;const r=this.decimals-e.decimals;return r>0?n*=g(r):r<0&&(t*=g(-r)),t<n?-1:t>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=a(this,o);return a(this,o)<m&&(e-=a(this,l)-I),e=a(this,o)/a(this,l)*a(this,l),p(this,s,f).call(this,e,"floor")}ceiling(){let e=a(this,o);return a(this,o)>m&&(e+=a(this,l)-I),e=a(this,o)/a(this,l)*a(this,l),p(this,s,f).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,n=Q*g(t-1);let r=this.value+n;const u=g(t);return r=r/u*u,N(r,a(this,c),"round"),new T(b,r,a(this,c))}isZero(){return a(this,o)===m}isNegative(){return a(this,o)<m}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return T.fromString(this.toString(),e)}static fromValue(e,t,n){const r=t==null?0:V(t),u=S(n);let d=W(e,"value");const y=r-u.decimals;if(y>0){const k=g(y);h(d%k===m,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),d/=k}else y<0&&(d*=g(-y));return N(d,u,"fromValue"),new T(b,d,u)}static fromString(e,t){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);v(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const r=S(t);let u=n[2]||"0",d=n[3]||"";for(;d.length<r.decimals;)d+=x;h(d.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),d=d.substring(0,r.decimals);const y=BigInt(n[1]+u+d);return N(y,r,"fromString"),new T(b,y,r)}static fromBytes(e,t){let n=Z(H(e,"value"));const r=S(t);return r.signed&&(n=U(n,r.width)),N(n,r,"fromBytes"),new T(b,n,r)}};c=new WeakMap,o=new WeakMap,l=new WeakMap,s=new WeakSet,w=function(e){v(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},f=function(e,t){return e=N(e,a(this,c),t),new T(b,e,a(this,c))},E=function(e,t){return p(this,s,w).call(this,e),p(this,s,f).call(this,a(this,o)+a(e,o),t)},B=function(e,t){return p(this,s,w).call(this,e),p(this,s,f).call(this,a(this,o)-a(e,o),t)},O=function(e,t){return p(this,s,w).call(this,e),p(this,s,f).call(this,a(this,o)*a(e,o)/a(this,l),t)},P=function(e,t){return h(a(e,o)!==m,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),p(this,s,w).call(this,e),p(this,s,f).call(this,a(this,o)*a(this,l)/a(e,o),t)};let A=T;function Y(i,e){let t=18;return t=V(e,"unit"),A.fromValue(i,t,{decimals:t,width:512}).toString()}function ee(i){return Y(i,18)}const te=JSON.parse('[{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"_baseTokenURI","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721IncorrectOwner","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721InsufficientApproval","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC721InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"}],"name":"ERC721InvalidOperator","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721InvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC721InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC721InvalidSender","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721NonexistentToken","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_fromTokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_toTokenId","type":"uint256"}],"name":"BatchMetadataUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"creator","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"string","name":"title","type":"string"}],"name":"ChallengeCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"MetadataUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"holder","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"NFTMinted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseTokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"challenges","outputs":[{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"uint8","name":"complexity","type":"uint8"},{"internalType":"uint256","name":"timeframe","type":"uint256"},{"internalType":"bool","name":"includesRoadmap","type":"bool"},{"internalType":"string","name":"compensation","type":"string"},{"internalType":"uint256","name":"createdAt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"string[]","name":"skills","type":"string[]"},{"internalType":"uint8","name":"complexity","type":"uint8"},{"internalType":"uint256","name":"timeframe","type":"uint256"},{"internalType":"bool","name":"includesRoadmap","type":"bool"},{"internalType":"string[]","name":"roadmapSteps","type":"string[]"},{"internalType":"string","name":"compensation","type":"string"}],"name":"createChallenge","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"creator","type":"address"}],"name":"getChallenges","outputs":[{"components":[{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"string[]","name":"skills","type":"string[]"},{"internalType":"uint8","name":"complexity","type":"uint8"},{"internalType":"uint256","name":"timeframe","type":"uint256"},{"internalType":"bool","name":"includesRoadmap","type":"bool"},{"internalType":"string[]","name":"roadmapSteps","type":"string[]"},{"internalType":"string","name":"compensation","type":"string"},{"internalType":"uint256","name":"createdAt","type":"uint256"}],"internalType":"struct PortfolioNFT.Challenge[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"}],"name":"mintPortfolioNFT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"mintPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"newBaseURI","type":"string"}],"name":"setBaseTokenURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newPrice","type":"uint256"}],"name":"setMintPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),ne={abi:te},ie="0x5FbDB2315678afecb367f032d93F642f64180aa3",ae="https://sepolia.infura.io/v3/509fb9fd78ef4236a48802c5f2c78616",re=parseInt("11155111");class de{constructor(e,t){e||(e=new K(ae)),this.provider=e,this.signer=t,this.contract=new j(ie,ne.abi,t||e),this.chainId=re}async getMintPrice(){const e=await this.contract.mintPrice();return ee(e)}async mintPortfolioNFT(e){if(!this.signer)throw new Error("Signer required to mint an NFT");const t=await this.contract.mintPrice();return await(await this.contract.mintPortfolioNFT(e,{value:t})).wait()}async createChallenge(e){if(!this.signer)throw new Error("Signer required to create a challenge");return await(await this.contract.createChallenge(1,e.title,e.description,e.skills,e.complexity,e.timeframe,e.includesRoadmap,e.roadmapSteps||[],e.compensation)).wait()}async verifyNetwork(){return(await this.provider.getNetwork()).chainId===BigInt(this.chainId)}async switchNetwork(){if(!window.ethereum)return!1;try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${this.chainId.toString(16)}`}]}),!0}catch(e){return console.error("Failed to switch network:",e),!1}}async createChallengeWithRoadmap(e){if(!this.signer)throw new Error("Signer required to create a challenge");return await(await this.contract.createChallenge(1,e.title,e.description,e.skills,e.complexity==="easy"?1:e.complexity==="medium"?2:3,e.timeframe,e.includeRoadmap,e.roadmapSteps.map(u=>u.description),e.compensation||"")).wait()}async isPortfolioNFTOwner(e){try{return await this.contract.balanceOf(e)>0}catch(t){return console.error("Error checking NFT ownership:",t),!1}}async getChallenges(e){return await this.contract.getChallenges(1,e)}}export{de as PortfolioNFTService,de as default};
//# sourceMappingURL=PortfolioNFTService-ClY1-qmH.js.map
